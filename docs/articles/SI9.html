<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The simulated annealing algorithm of GMSE • GMSE</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The simulated annealing algorithm of GMSE">
<meta property="og:description" content="GMSE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GMSE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/GMSE.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/SI1.html">The Genetic Algorithm of GMSE</a>
    </li>
    <li>
      <a href="../articles/SI2.html">Use of the gmse_apply function</a>
    </li>
    <li>
      <a href="../articles/SI3.html">Example case study in GMSE</a>
    </li>
    <li>
      <a href="../articles/SI4.html">Advanced case study options</a>
    </li>
    <li>
      <a href="../articles/SI5.html">Fisheries example integrating FLR</a>
    </li>
    <li>
      <a href="../articles/SI6.html">Management frequency and extinction risk</a>
    </li>
    <li>
      <a href="../articles/SI7.html">Default GMSE data structures</a>
    </li>
    <li>
      <a href="../articles/SI8.html">Adaptive timing of investment strategy</a>
    </li>
    <li>
      <a href="../articles/SI9.html">The simulated annealing algorithm of GMSE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://confoobio.github.io/gmse/notebook/gmse_notes.html" class="external-link">Lab notebook</a>
</li>
<li>
  <a href="https://github.com/confoobio/GMSE" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The simulated annealing algorithm of GMSE</h1>
            <h3 data-toc-skip class="subtitle">GMSE: an R package for
generalised management strategy evaluation</h3>
                        <h4 data-toc-skip class="author"><div class="line-block">Brad Duthie¹ ², Gabriela Ochoa¹</div></h4>
            
            <h4 data-toc-skip class="date">[1] Biological and
Environmental Sciences, University of Stirling, Stirling, UK [2] <a href="mailto:alexander.duthie@stir.ac.uk" class="email">alexander.duthie@stir.ac.uk</a>
</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/confoobio/gmse/blob/HEAD/vignettes/SI9.Rmd" class="external-link"><code>vignettes/SI9.Rmd</code></a></small>
      <div class="hidden name"><code>SI9.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview-of-simulated-annealing">Overview of simulated annealing<a class="anchor" aria-label="anchor" href="#overview-of-simulated-annealing"></a>
</h2>
<p>The primary algorithm used in GMSE to model manager and user
decision-making is the <a href="SI1.pdf">genetic algorithm</a>. As of
version 1.0, GMSE also allows for the use of a simulated annealing
algorithm <span class="citation">(<a href="#ref-Kirkpatrick1983" role="doc-biblioref">Kirkpatrick, Gelatt Jr, and Vecchi 1983</a>; <a href="#ref-Cerny1985" role="doc-biblioref">Černý 1985</a>; <a href="#ref-Rutenbar1989" role="doc-biblioref">Rutenbar 1989</a>)</span>.
Simulated annealing searches a space of potential solutions (in GMSE,
decisions made by agents to maximise their own utility) in an iterative
way. Unlike the <a href="SI1.pdf">genetic algorithm</a>, it is not a
population focused approach. The simulated annealing algorithm of GMSE
instead iterates from an initial <span class="math inline">\(k =
0\)</span> to a maximum <span class="math inline">\(k_{max}\)</span>.
For each iteration, a single solution exists (agent decision;
i.e. either a set of user actions or manager policy choices, depending
on the agent), then a new potential solution is considered. Under some
conditions, the new solution is adopted and the old discarded.</p>
<p>More specifically, the simulated annealing algorithm of GMSE first
initialises a fixed set of potential agent decisions (size
<code>ga_popsize</code>, 100 by default). These potential decisions are
randomly initialised within the search space of possible decisions using
the same function as in the <a href="SI1.pdf">genetic algorithm</a>. The
fitness of each decision is then checked, and the highest fitness
decision initialised is selected to be the initial random agent decision
at <span class="math inline">\(k = 0\)</span> (this initial seeding of a
population of <code>ga_popsize</code> has been found to greatly improve
performance).</p>
<p>In each iteration from <span class="math inline">\(k = 0\)</span> to
<span class="math inline">\(k_{max}\)</span>, the agent decision is
first checked to ensure that it is not over the agent’s budget using the
same cost constraint procedure as in the <a href="SI1.pdf">genetic
algorithm</a>. If over budget, then an actions are randomly removed
until the decision is again within budget. Next, the fitness of the
current agent decision is assessed (again using the same fitness
function as in the <a href="SI1.pdf">genetic algorithm</a>).</p>
<p>After checking the fitness of the current agent decision, the
mutation function of the <a href="SI1.pdf">genetic algorithm</a> is used
to explore a new potential agent decision. The potential agent decision
is checked and constrained to be within budget if necessary, then the
fitness of the potential agent decision is compared with the fitness of
the current agent decision. If the fitness of the potential agent
decision is higher, then it replaces the current agent decision. If the
fitness of the current agent decision is higher, then the potential
agent decision replaces it with a probability of,</p>
<p><span class="math display">\[\Pr(replace) = exp\left(\frac{-
\left(W_{current} - W_{potential} \right)}{1 - \frac{(1 + k)}{
k_{max}}}\right).\]</span></p>
<p>In the above, <span class="math inline">\(W_{current}\)</span> is the
fitness of the current strategy, and <span class="math inline">\(W_{potential}\)</span> is the fitness of the
potential strategy. Note that as <span class="math inline">\(k \to
k_{max}\)</span>, the probability of the potential strategy replacing
the current strategy decreases when the latter has higher fitness.</p>
<p>Overall, the simulated annealing approach has the potential to be
faster than the <a href="SI1.pdf">genetic algorithm</a> approach because
it does not require a full population of evolving agent decisions.
Below, we show how to use the simulated annealing algorithm in place of
the genetic algorithm for users and managers, then we compare the
performance of the two approaches.</p>
</div>
<div class="section level2">
<h2 id="example-use-of-simulated-annealing">Example use of simulated annealing<a class="anchor" aria-label="anchor" href="#example-use-of-simulated-annealing"></a>
</h2>
<p>Here we use the same example of resource management as was used in
the <a href="ms.pdf">main introduction</a> to the GMSE package. This
example considers a population of waterfowl that feed off of farmland,
causing conservation conflict with farmers <span class="citation">(e.g.,
<a href="#ref-Fox2017a" role="doc-biblioref">Fox and Madsen 2017</a>; <a href="#ref-Mason2017" role="doc-biblioref">Mason et al. 2017</a>; <a href="#ref-Tulloch2017" role="doc-biblioref">Tulloch, Nicol, and
Bunnefeld 2017</a>)</span>, while managers attempt to maintain waterfowl
density at a target level. To replicate the example from the <a href="ms.pdf">main introduction</a> using simulated annealing, we can
set arguments in the <code>gmse</code> function (or
<code>gmse_apply</code>) for <code>user_annealing</code> and
<code>mana_annealing</code> (<code>TRUE</code> or <code>FALSE</code>
whether simulated annealing is used in place of the genetic algorithm
for users and managers, respectively). An additional parameter
<code>kmax_annealing</code> sets the value for <span class="math inline">\(k_{max}\)</span>. Additional relevant parameters
(e.g., mutation rate) are set using the same arguments as used in the
genetic algorithm; below we set <code>mu_magnitude = 1000</code> to be
aggressive in exploring new areas of parameter space (note the default
<code>mu_magnitude = 10</code>). The code below runs the example using
simulated annealing for agent decision-making.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse.html">gmse</a></span><span class="op">(</span>land_ownership <span class="op">=</span> <span class="cn">TRUE</span>, stakeholders <span class="op">=</span> <span class="fl">5</span>, observe_type <span class="op">=</span> <span class="fl">0</span>, 
            res_death_K <span class="op">=</span> <span class="fl">2000</span>, manage_target <span class="op">=</span> <span class="fl">1000</span>, RESOURCE_ini <span class="op">=</span> <span class="fl">1000</span>, 
            user_budget <span class="op">=</span> <span class="fl">1000</span>, manager_budget <span class="op">=</span> <span class="fl">1000</span>, res_consume <span class="op">=</span> <span class="fl">1</span>, 
            scaring <span class="op">=</span> <span class="cn">TRUE</span>, plotting <span class="op">=</span> <span class="cn">FALSE</span>, user_annealing <span class="op">=</span> <span class="cn">TRUE</span>,
            mana_annealing <span class="op">=</span> <span class="cn">TRUE</span>, kmax_annealing <span class="op">=</span> <span class="fl">100</span>, mu_magnitude <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>;</code></pre></div>
<pre><code><span class="co">## [1] "Initialising simulations ... "</span>
<span class="co">## [1] "Generation  22 of  40"</span></code></pre>
<p>All other <code>gmse</code> parameters are set to default values.
Figure 1 shows the output, which can be compared with the <a href="ms.pdf">same output</a> from using the genetic algorithm.</p>
<div class="figure" style="text-align: center">
<img src="SI9_files/figure-html/unnamed-chunk-3-1.png" alt="Example GMSE simulation in which a natural resource is managed on the land of five farmers. The upper left panel shows locations of the resource (black dots) on the landscape. The upper right panel shows each farmers land (different colours). The middle left panel shows the abundance of the resource (black line) and its estimate from the perspective of the manager (blue line with 95 per cent confidence itnervals). The middle right planel shows farmer agricultural yield by colour. The lower left panel shows manager policy (costs of farmer actions) over time, and the lower right panel shows farmer actions chosen over time." width="576"><p class="caption">
Example GMSE simulation in which a natural resource is managed on the
land of five farmers. The upper left panel shows locations of the
resource (black dots) on the landscape. The upper right panel shows each
farmers land (different colours). The middle left panel shows the
abundance of the resource (black line) and its estimate from the
perspective of the manager (blue line with 95 per cent confidence
itnervals). The middle right planel shows farmer agricultural yield by
colour. The lower left panel shows manager policy (costs of farmer
actions) over time, and the lower right panel shows farmer actions
chosen over time.
</p>
</div>
<p>Note that the output is the same as is produced the the genetic
algorithm, and any combination of simulated annealing and the genetic
algorithm can be used between managers and users with the
<code>user_annealing</code> and <code>mana_annealing</code> arguments
(but all users must use the same algorithm for decision-making).
Overall, simulated annealing can give faster simulation results, and
often performs better than the genetic algorithm, except when
decision-making is complex for managers. Details of the performance are
described in the next section.</p>
</div>
<div class="section level2">
<h2 id="performance-of-simulated-annealing">Performance of simulated annealing<a class="anchor" aria-label="anchor" href="#performance-of-simulated-annealing"></a>
</h2>
<p>Here we show the results of some simulations to compare the
performance of the GMSE genetic algorithm and simulated annealing
algorithm. The purpose here is to provide some guidance as to when the
simulated annealing algorithm might be preferred. The best choice will
likely be a trade-off between simulation time and the decision-making
ability of GMSE agents. And because agents are, <a href="ms.pdf">by
design</a>, not intended to be perfectly rational, what constitutes
desirable ‘decision-making ability’ might also vary with simulation
objectives. In other words, there might be situations in which it is
desirable for agents to make decisions that are very closely aligned
with their goals, and other situations in which it might desirable to
have agents make fast but sub-optimal decisions.</p>
<div class="section level3">
<h3 id="performance-in-terms-of-real-computation-time">Performance in terms of real computation time<a class="anchor" aria-label="anchor" href="#performance-in-terms-of-real-computation-time"></a>
</h3>
<p>First, we show the results of test runs from a highly simplified
example in which a single user is modelled (i.e., a lone farmer). In
these test runs, the resource, observation, and manager model are
simplified to run as quickly possible using the alternative functions
introduced for demonstrating <a href="SI2.pdf">the gmse_apply
function</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Alternative resource sub-model</span>
<span class="va">alt_res</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">X</span>, <span class="va">K</span> <span class="op">=</span> <span class="fl">2000</span>, <span class="va">rate</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">{</span>
    <span class="va">X_1</span> <span class="op">&lt;-</span> <span class="va">X</span> <span class="op">+</span> <span class="va">rate</span><span class="op">*</span><span class="va">X</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">X</span><span class="op">/</span><span class="va">K</span><span class="op">)</span>;
    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">X_1</span><span class="op">)</span>;
<span class="op">}</span>
<span class="co"># Alternative observation sub-model</span>
<span class="va">alt_obs</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">resource_vector</span><span class="op">)</span><span class="op">{</span>
    <span class="va">X_obs</span> <span class="op">&lt;-</span> <span class="va">resource_vector</span> <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="va">resource_vector</span>;
    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">X_obs</span><span class="op">)</span>;
<span class="op">}</span>

<span class="co"># Alternative manager sub-model</span>
<span class="va">alt_man</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">observation_vector</span><span class="op">)</span><span class="op">{</span>
    <span class="va">policy</span> <span class="op">&lt;-</span> <span class="va">observation_vector</span> <span class="op">-</span> <span class="fl">1000</span>;
    <span class="kw">if</span><span class="op">(</span><span class="va">policy</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span>
        <span class="va">policy</span> <span class="op">&lt;-</span> <span class="fl">0</span>;
    <span class="op">}</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">policy</span><span class="op">)</span>;
<span class="op">}</span></code></pre></div>
<p>The default user sub-model is then used with a single
stakeholder.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sim_old</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span><span class="op">(</span>res_mod <span class="op">=</span> <span class="va">alt_res</span>, obs_mod <span class="op">=</span> <span class="va">alt_obs</span>, man_mod <span class="op">=</span> 
                        <span class="va">alt_man</span>, get_res <span class="op">=</span> <span class="st">"Full"</span>, stakeholders <span class="op">=</span> <span class="fl">1</span>, 
                        X <span class="op">=</span> <span class="fl">10000</span>, ga_seedrep <span class="op">=</span> <span class="fl">0</span>, ga_mingen <span class="op">=</span> <span class="va">ga_min</span>, 
                        user_annealing <span class="op">=</span> <span class="cn">FALSE</span>, mana_annealing <span class="op">=</span> <span class="cn">FALSE</span>, 
                        kmax_annealing <span class="op">=</span> <span class="va">kmx</span>, user_budget <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span>;</code></pre></div>
<p>The <code>gmse_apply</code> function is then looped for 40 time steps
across different values of <code>ga_min</code> (number of generations
for the genetic algorithm) and <code>kmx</code> (number of iterations
for simulated annealing). Higher <code>ga_min</code> and
<code>kmx</code> result in longer computation times, but also
potentially better user decision-making (code is available in the
appendix below). For simulated annealing, we set
<code>mu_magnitude = 1000</code>, but left it at the default
<code>mu_magnitude = 10</code> for the genetic algorithm. The
decision-making scenario is highly simplified; resources are initialised
to be super-abundant and managed to maintain this abundance (i.e., there
are a lot of resources and managers consistently try to keep it that
way). The best decision for the user is therefore clear. The user should
simply apply their budget to culling as much as possible. Hence, the
number of resources that the user culls can be used as a metric of
decision-making performance. We can therefore investigate the trade-off
between computation time and performance in for the genetic algorithm
and simulated annealing. The results show simulations from a PC running
Xubuntu 18.04 LTS with a Intel(R) Xeon(R) W-2295 CPU (3.00 GHz)
processor, 18 dual threaded cores, and 32 GB RAM.</p>
<div class="figure">
<img src="SI9_files/figure-html/unnamed-chunk-6-1.png" alt="Comparison of stakeholder culls (a metric of decision-making performance) across different simulation times when running a genetic algorithm versus a simulated annealing algorithm in GMSE. Each point represents a unique simulation of 40 time steps run at a specific number of genetic algorithm generations (ga_min) or simulated annealing iterations (kmx)." width="576"><p class="caption">
Comparison of stakeholder culls (a metric of decision-making
performance) across different simulation times when running a genetic
algorithm versus a simulated annealing algorithm in GMSE. Each point
represents a unique simulation of 40 time steps run at a specific number
of genetic algorithm generations (ga_min) or simulated annealing
iterations (kmx).
</p>
</div>
<p>Results from Figure 2 show that given sufficient time, agents will
decide to use all of their actions to cull the highest possible number
of resources (1000). But the simulated annealing algorithm finds this
solution in less time than the genetic algorithm, suggesting that it can
be an effective tool when simulation time is limited (especially if many
users need to be modelled within simulations).</p>
<p>The situation of only culling is highly simplified. Users clearly
benefit from each additional cull, with no other option to maximise
their utility. Note that while this case of decision-making performance
is straightforward, performance cannot be as easily measured when
multiple actions are available to the user; nor can it be measured
easily for the manager. As a proxy for quality of decision-making, we
use the fitness measurement produced by the fitness function in the <a href="SI1.pdf">genetic algorithm</a>. That is, we assume that decisions
assessed to have higher fitness in GMSE will also be <em>better</em>
decisions overall.</p>
</div>
<div class="section level3">
<h3 id="user-fitness-increase-fitness-function-call">User fitness increase fitness function call<a class="anchor" aria-label="anchor" href="#user-fitness-increase-fitness-function-call"></a>
</h3>
<p>We can compare the two algorithms in a slightly different way by
looking at their ‘fitness’ in terms of utility within GMSE. This fitness
is explained in detail in the overview of the <a href="SI1.pdf">genetic
algorithm</a>. Since fitness is calculated the same way in both
algorithms, we can compare how fitness increases in genetic algorithm
generations versus how it increases with iterations of the simulated
annealing algorithm (keeping in mind that generation and iteration times
will vary in practice given other parameters specified in GMSE). For
this, we now use the <code>gmse</code> function parameterised as
below.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse.html">gmse</a></span><span class="op">(</span>land_ownership <span class="op">=</span> <span class="cn">TRUE</span>, kmax_annealing <span class="op">=</span> <span class="fl">2000</span>, ga_popsize <span class="op">=</span> <span class="fl">100</span>,
            user_annealing <span class="op">=</span> <span class="cn">FALSE</span>, mana_annealing <span class="op">=</span> <span class="cn">FALSE</span>, ga_seedrep <span class="op">=</span> <span class="fl">0</span>, 
            plotting <span class="op">=</span> <span class="cn">FALSE</span>, scaring <span class="op">=</span> <span class="cn">FALSE</span>, culling <span class="op">=</span> <span class="cn">TRUE</span>, 
            castration <span class="op">=</span> <span class="cn">FALSE</span>, feeding <span class="op">=</span> <span class="cn">FALSE</span>, help_offspring <span class="op">=</span> <span class="cn">FALSE</span>, 
            tend_crops <span class="op">=</span> <span class="cn">FALSE</span>, kill_crops <span class="op">=</span> <span class="cn">FALSE</span>, mu_magnitude <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>;</code></pre></div>
<p>Note that land ownership has been turned on, but only culling is
available (e.g., as modelling farmers attempting to cull waterfowl
before they damage their agricultural yield). For simulations with
simulated annealing, we instead set <code>user_annealing = TRUE</code>
and <code>mana_annealing = TRUE</code> in the code above, and set
<code>mu_magnitude = 1000</code>. Instead of recording an agent’s
decision after it has been made, we will now look at how each generation
(genetic algorithm) or iteration (simulated annealing) increases user or
manager fitness (see below) on average. Figure 3 shows how user fitness
increases on average as the number of generations in the genetic
algorithm or iterations of the simulated annealing algorithm increases
(note that there are 5 users in these simulations, but Figure 3 only
looks at the actions of a single user).</p>
<div class="figure">
<img src="SI9_files/figure-html/unnamed-chunk-8-1.png" alt="Comparison of user fitness across different genetic algorithm generation numbers or simulated annealing iteration numbers in GMSE when users only have culling available as an action. Shaded areas around the means for the genetic algorithm (black) and simulated annealing (read) show 95% confidence intervals over 100 replicate simulations with identical starting conditions." width="700"><p class="caption">
Comparison of user fitness across different genetic algorithm generation
numbers or simulated annealing iteration numbers in GMSE when users only
have culling available as an action. Shaded areas around the means for
the genetic algorithm (black) and simulated annealing (read) show 95%
confidence intervals over 100 replicate simulations with identical
starting conditions.
</p>
</div>
<p>From Figure 3, we can see that expected user fitness increases for
each algorithm, but the simulated annealing algorithm requires fewer
calls to the fitness function than the genetic algorithm to maximise
user fitness. Further, the mean scaled user fitness asymptotes to a
higher value for the simulated annealing algorithm (unscaled fitness
values are much larger, and since the units of these values are
arbitrary, we scale them by subtracting the same constant).</p>
<p>This is still, however, a highly simplified case in which culling is
the only action available to users. We can compare this with the
opposite extreme, in which all seven possible actions are available to
users to maximise their fitness. Figure 4 shows fitness increases for
each algorithm under these more complex conditions.</p>
<div class="figure">
<img src="SI9_files/figure-html/unnamed-chunk-9-1.png" alt="Comparison of user fitness across different genetic algorithm generation numbers or simulated annealing iteration numbers in GMSE when users have all actions available to them. Shaded areas around the means for the genetic algorithm (black) and simulated annealing (read) show 95% confidence intervals over 100 replicate simulations with identical starting conditions." width="700"><p class="caption">
Comparison of user fitness across different genetic algorithm generation
numbers or simulated annealing iteration numbers in GMSE when users have
all actions available to them. Shaded areas around the means for the
genetic algorithm (black) and simulated annealing (read) show 95%
confidence intervals over 100 replicate simulations with identical
starting conditions.
</p>
</div>
<p>Under the more complex conditions in which all actions are possible,
the simulated annealing algorithm again performs better by finding a
higher fitness solution more quickly than the genetic algorithm. Hence,
for modelling the decision-making of user agents in GMSE, the simulated
annealing algorithm might often be preferred.</p>
</div>
<div class="section level3">
<h3 id="manager-fitness-increase-by-iteration-or-generation">Manager fitness increase by iteration or generation<a class="anchor" aria-label="anchor" href="#manager-fitness-increase-by-iteration-or-generation"></a>
</h3>
<p>We can now look at the same scenarios of only culling versus all
actions from the perspective of the manager. Figure 5 shows the fitness
increase for each algorithm when the manager is attempting to maintain
natural resources at a target level and culling is the only policy
option that they have to use.</p>
<div class="figure">
<img src="SI9_files/figure-html/unnamed-chunk-10-1.png" alt="Comparison of manager fitness across different genetic algorithm generation numbers or simulated annealing iteration numbers in GMSE when managers only have culling available as a policy option. Shaded areas around the means for the genetic algorithm (black) and simulated annealing (read) show 95% confidence intervals over 100 replicate simulations with identical starting conditions." width="700"><p class="caption">
Comparison of manager fitness across different genetic algorithm
generation numbers or simulated annealing iteration numbers in GMSE when
managers only have culling available as a policy option. Shaded areas
around the means for the genetic algorithm (black) and simulated
annealing (read) show 95% confidence intervals over 100 replicate
simulations with identical starting conditions.
</p>
</div>
<p>Figure 5 shows that both algorithms appear to be equally capable of
finding a solution that maximises manager fitness. But the simulated
annealing algorithm finds the solution with fewer calls to the fitness
function. The genetic algorithm requires about 15 generations to find
the solution (the fitness function is called 100 times in each
generation), while the simulated annealing algorithm finds the solution
around <span class="math inline">\(k_{max} = 100\)</span>. For simple
management decision-making, the simulated annealing algorithm therefore
appears to perform at least as well as the genetic algorithm and
requires less computation.</p>
<p>The performance of the simulated annealing algorithm versus the
genetic algorithm differs, however, when managers have all policy
options at their disposal (Figure 6). Under these conditions, the
genetic algorithm consistently finds decisions that have higher fitness
than the simulated annealing algorithm.</p>
<div class="figure">
<img src="SI9_files/figure-html/unnamed-chunk-11-1.png" alt="Comparison of manager fitness across different genetic algorithm generation numbers or simulated annealing iteration numbers in GMSE when managers have all policy options available to them. Shaded areas around the means for the genetic algorithm (black) and simulated annealing (read) show 95% confidence intervals over 100 replicate simulations with identical starting conditions." width="700"><p class="caption">
Comparison of manager fitness across different genetic algorithm
generation numbers or simulated annealing iteration numbers in GMSE when
managers have all policy options available to them. Shaded areas around
the means for the genetic algorithm (black) and simulated annealing
(read) show 95% confidence intervals over 100 replicate simulations with
identical starting conditions.
</p>
</div>
<p>Given the highly complex situation in which managers must choose from
a range of policy options, the genetic algorithm appears to perform more
strongly in terms of maximising the utility of the manager.</p>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Simulated annealing can be useful for modelling simple user
decision-making. For user agents, the simulated annealing algorithm is
likely to be preferable to the genetic algorithm, at least for the
current version of GMSE. For manager agents, the simulated annealing
algorithm should be used more cautiously, and only when the number of
potential policy options that the manager needs to consider is low.
Future versions of GMSE might include more complex decision-making for
both user and manager agents, potentially limiting the usefulness of
simulated annealing. For GMSE v1.0, however, simulated annealing can be
highly effective for reducing simulation time and even improving agent
decision-making performance.</p>
</div>
<div class="section level2">
<h2 id="appendix-code">Appendix code<a class="anchor" aria-label="anchor" href="#appendix-code"></a>
</h2>
<p>The code below runs a comparison of the simulated annealing algorithm
and genetic algorithm used in Figure 2.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">count</span>      <span class="op">&lt;-</span> <span class="fl">1</span>;
<span class="va">AN_summary</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>;
<span class="va">GA_summary</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>;
<span class="kw">while</span><span class="op">(</span><span class="va">count</span> <span class="op">&lt;</span> <span class="fl">200</span><span class="op">)</span><span class="op">{</span>
  <span class="va">time_steps</span> <span class="op">&lt;-</span> <span class="fl">40</span>;
  <span class="va">ga_min</span>     <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">*</span> <span class="va">count</span>;
  <span class="va">kmx</span>        <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">*</span> <span class="va">count</span>;
  <span class="co">##############################################################################</span>
  <span class="co"># Genetic algorithm</span>
  <span class="co">##############################################################################</span>
  <span class="va">st_time</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>;
  <span class="va">gal_count</span> <span class="op">&lt;-</span> <span class="fl">0</span>;
  <span class="va">ann_count</span> <span class="op">&lt;-</span> <span class="fl">0</span>;
  <span class="va">sim_old</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span><span class="op">(</span>res_mod <span class="op">=</span> <span class="va">alt_res</span>, obs_mod <span class="op">=</span> <span class="va">alt_obs</span>, man_mod <span class="op">=</span> 
                          <span class="va">alt_man</span>, get_res <span class="op">=</span> <span class="st">"Full"</span>, stakeholders <span class="op">=</span> <span class="fl">1</span>, 
                          X <span class="op">=</span> <span class="fl">10000</span>, ga_seedrep <span class="op">=</span> <span class="fl">0</span>, ga_mingen <span class="op">=</span> <span class="va">ga_min</span>, 
                          user_annealing <span class="op">=</span> <span class="cn">FALSE</span>, mana_annealing <span class="op">=</span> <span class="cn">FALSE</span>, 
                          kmax_annealing <span class="op">=</span> <span class="va">kmx</span>, user_budget <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span>;
  <span class="va">gal_count</span> <span class="op">&lt;-</span> <span class="va">gal_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">141</span><span class="op">]</span><span class="op">]</span>;
  <span class="va">ann_count</span> <span class="op">&lt;-</span> <span class="va">ann_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">142</span><span class="op">]</span><span class="op">]</span>;
  <span class="va">sim_sum_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NA</span>, nrow <span class="op">=</span> <span class="va">time_steps</span>, ncol <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>;
  <span class="kw">for</span><span class="op">(</span><span class="va">time_step</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">time_steps</span><span class="op">)</span><span class="op">{</span>
      <span class="va">sim_new</span>                 <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span><span class="op">(</span>get_res <span class="op">=</span> <span class="st">"Full"</span>, 
                                            old_list <span class="op">=</span> <span class="va">sim_old</span>,
                                            res_mod <span class="op">=</span> <span class="va">alt_res</span>, 
                                            obs_mod <span class="op">=</span> <span class="va">alt_obs</span>,
                                            man_mod <span class="op">=</span> <span class="va">alt_man</span><span class="op">)</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">time_step</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">resource_results</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">observation_results</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">manager_results</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">user_results</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span><span class="op">)</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">6</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">141</span><span class="op">]</span><span class="op">]</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">142</span><span class="op">]</span><span class="op">]</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">8</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">COST</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">9</span>,<span class="fl">2</span><span class="op">]</span>;
      <span class="va">sim_sum_1</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">9</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">user_budget</span>;
      <span class="va">gal_count</span>               <span class="op">&lt;-</span> <span class="va">gal_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">141</span><span class="op">]</span><span class="op">]</span>;
      <span class="va">ann_count</span>               <span class="op">&lt;-</span> <span class="va">ann_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">142</span><span class="op">]</span><span class="op">]</span>;
  <span class="op">}</span>
  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">sim_sum_1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Time"</span>, <span class="st">"Pop_size"</span>, <span class="st">"Pop_est"</span>, <span class="st">"Cull_cost"</span>, 
                           <span class="st">"Cull_count"</span>, <span class="st">"GA_count"</span>, <span class="st">"AN_count"</span>, <span class="st">"Cull_cost"</span>,
                           <span class="st">"User_budget"</span><span class="op">)</span>;

  <span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>;
  <span class="va">tot_time</span> <span class="op">&lt;-</span> <span class="va">end_time</span> <span class="op">-</span> <span class="va">st_time</span>;
  <span class="va">gal_fcal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sim_sum_1</span><span class="op">[</span>,<span class="fl">6</span><span class="op">]</span><span class="op">)</span>;
  <span class="va">GA_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">time_steps</span>, <span class="va">tot_time</span>, <span class="va">gal_fcal</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">sim_sum_1</span><span class="op">[</span><span class="fl">31</span><span class="op">:</span><span class="fl">40</span>,<span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>;
  <span class="co">##############################################################################</span>

  <span class="co">##############################################################################</span>
  <span class="co"># Simulated Annealing</span>
  <span class="co">##############################################################################</span>
  <span class="va">st_time</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>;
  <span class="va">gal_count</span> <span class="op">&lt;-</span> <span class="fl">0</span>;
  <span class="va">ann_count</span> <span class="op">&lt;-</span> <span class="fl">0</span>;
  <span class="va">sim_old</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span><span class="op">(</span>res_mod <span class="op">=</span> <span class="va">alt_res</span>, obs_mod <span class="op">=</span> <span class="va">alt_obs</span>, 
                          man_mod <span class="op">=</span> <span class="va">alt_man</span>, get_res <span class="op">=</span> <span class="st">"Full"</span>, stakeholders <span class="op">=</span> <span class="fl">1</span>, 
                          X <span class="op">=</span> <span class="fl">10000</span>, ga_seedrep <span class="op">=</span> <span class="fl">0</span>, ga_mingen <span class="op">=</span> <span class="va">ga_min</span>, 
                          mu_magnitude <span class="op">=</span> <span class="fl">1000</span>, user_annealing <span class="op">=</span> <span class="cn">TRUE</span>, 
                          mana_annealing <span class="op">=</span> <span class="cn">FALSE</span>, kmax_annealing <span class="op">=</span> <span class="va">kmx</span>, 
                          user_budget <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span>;
  <span class="va">gal_count</span> <span class="op">&lt;-</span> <span class="va">gal_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">141</span><span class="op">]</span><span class="op">]</span>;
  <span class="va">ann_count</span> <span class="op">&lt;-</span> <span class="va">ann_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">142</span><span class="op">]</span><span class="op">]</span>;
  <span class="va">sim_sum_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NA</span>, nrow <span class="op">=</span> <span class="va">time_steps</span>, ncol <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>;
  <span class="kw">for</span><span class="op">(</span><span class="va">time_step</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">time_steps</span><span class="op">)</span><span class="op">{</span>
      <span class="va">sim_new</span>                 <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span><span class="op">(</span>get_res <span class="op">=</span> <span class="st">"Full"</span>, 
                                            old_list <span class="op">=</span> <span class="va">sim_old</span>,
                                            res_mod <span class="op">=</span> <span class="va">alt_res</span>, 
                                            obs_mod <span class="op">=</span> <span class="va">alt_obs</span>,
                                            man_mod <span class="op">=</span> <span class="va">alt_man</span><span class="op">)</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">time_step</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">resource_results</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">observation_results</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">manager_results</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sim_new</span><span class="op">$</span><span class="va">basic_output</span><span class="op">$</span><span class="va">user_results</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span><span class="op">)</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">6</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">141</span><span class="op">]</span><span class="op">]</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">142</span><span class="op">]</span><span class="op">]</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">8</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">COST</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">9</span>,<span class="fl">2</span><span class="op">]</span>;
      <span class="va">sim_sum_2</span><span class="op">[</span><span class="va">time_step</span>, <span class="fl">9</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sim_new</span><span class="op">$</span><span class="va">user_budget</span>;
      <span class="va">gal_count</span>               <span class="op">&lt;-</span> <span class="va">gal_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">141</span><span class="op">]</span><span class="op">]</span>;
      <span class="va">ann_count</span>               <span class="op">&lt;-</span> <span class="va">ann_count</span> <span class="op">+</span> <span class="va">sim_old</span><span class="op">$</span><span class="va">PARAS</span><span class="op">[[</span><span class="fl">142</span><span class="op">]</span><span class="op">]</span>;
  <span class="op">}</span>
  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">sim_sum_2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Time"</span>, <span class="st">"Pop_size"</span>, <span class="st">"Pop_est"</span>, <span class="st">"Cull_cost"</span>, 
                           <span class="st">"Cull_count"</span>, <span class="st">"GA_count"</span>, <span class="st">"AN_count"</span>, <span class="st">"Cull_cost"</span>,
                           <span class="st">"User_budget"</span><span class="op">)</span>;
  <span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>;
  <span class="va">tot_time</span> <span class="op">&lt;-</span> <span class="va">end_time</span> <span class="op">-</span> <span class="va">st_time</span>;
  <span class="va">ann_fcal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sim_sum_2</span><span class="op">[</span>,<span class="fl">7</span><span class="op">]</span><span class="op">)</span>;
  <span class="va">AN_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">time_steps</span>, <span class="va">tot_time</span>, <span class="va">ann_fcal</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">sim_sum_2</span><span class="op">[</span><span class="fl">31</span><span class="op">:</span><span class="fl">40</span>,<span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>;
  <span class="co">##############################################################################</span>
  <span class="va">AN_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">AN_summary</span>, <span class="va">AN_stats</span><span class="op">)</span>;
  <span class="va">GA_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">GA_summary</span>, <span class="va">GA_stats</span><span class="op">)</span>;
  <span class="va">count</span> <span class="op">&lt;-</span> <span class="va">count</span> <span class="op">+</span> <span class="fl">1</span>;
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span>;
<span class="op">}</span></code></pre></div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Cerny1985" class="csl-entry">
Černý, V. 1985. <span>“<span class="nocase">Thermodynamical approach to
the traveling salesman problem: An efficient simulation
algorithm</span>.”</span> <em>Journal of Optimization Theory and
Applications</em> 45 (1): 41–51. <a href="https://doi.org/10.1007/BF00940812" class="external-link">https://doi.org/10.1007/BF00940812</a>.
</div>
<div id="ref-Fox2017a" class="csl-entry">
Fox, Anthony D, and Jesper Madsen. 2017. <span>“<span class="nocase">Threatened species to super-abundance: The unexpected
international implications of successful goose
conservation</span>.”</span> <em>Ambio</em> 46 (s2): 179–87. <a href="https://doi.org/10.1007/s13280-016-0878-2" class="external-link">https://doi.org/10.1007/s13280-016-0878-2</a>.
</div>
<div id="ref-Kirkpatrick1983" class="csl-entry">
Kirkpatrick, S, C D Gelatt Jr, and M P Vecchi. 1983. <span>“<span class="nocase">Optimization by simulated annealing</span>.”</span>
<em>Science</em> 220 (4598): 671–80.
</div>
<div id="ref-Mason2017" class="csl-entry">
Mason, Tom H. E, Aidan Keane, Stephen M Redpath, and Nils Bunnefeld.
2017. <span>“<span class="nocase">The changing environment of
conservation conflict: geese and farming in Scotland</span>.”</span>
<em>Journal of Applied Ecology</em>, 1–12. <a href="https://doi.org/10.1111/1365-2664.12969" class="external-link">https://doi.org/10.1111/1365-2664.12969</a>.
</div>
<div id="ref-Rutenbar1989" class="csl-entry">
Rutenbar, Rob A. 1989. <span>“<span class="nocase">Simulated annealing
algorithms: an overview</span>.”</span> <em>IEEE Circuits and Devices
Magazine</em> 5: 19–26.
</div>
<div id="ref-Tulloch2017" class="csl-entry">
Tulloch, Ayesha I T, Sam Nicol, and Nils Bunnefeld. 2017. <span>“<span class="nocase">Quantifying the expected value of uncertain management
choices for over-abundant Greylag Geese</span>.”</span> <em>Biological
Conservation</em> 214: 147–55. <a href="https://doi.org/10.1016/j.biocon.2017.08.013" class="external-link">https://doi.org/10.1016/j.biocon.2017.08.013</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by A. Bradley Duthie, Adrian Bach, Jeroen Minderman, Ochoa Gabriela, Nils Bunnefeld.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
