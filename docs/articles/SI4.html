<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced case study options • GMSE</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Advanced case study options">
<meta property="og:description" content="GMSE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GMSE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/GMSE.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/SI1.html">The Genetic Algorithm of GMSE</a>
    </li>
    <li>
      <a href="../articles/SI2.html">Use of the gmse_apply function</a>
    </li>
    <li>
      <a href="../articles/SI3.html">Example case study in GMSE</a>
    </li>
    <li>
      <a href="../articles/SI4.html">Advanced case study options</a>
    </li>
    <li>
      <a href="../articles/SI5.html">Fisheries example integrating FLR</a>
    </li>
    <li>
      <a href="../articles/SI6.html">Management frequency and extinction risk</a>
    </li>
    <li>
      <a href="../articles/SI7.html">Default GMSE data structures</a>
    </li>
    <li>
      <a href="../articles/SI8.html">Adaptive timing of investment strategy</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://confoobio.github.io/gmse/notebook/gmse_notes.html">Lab notebook</a>
</li>
<li>
  <a href="https://github.com/confoobio/GMSE">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Advanced case study options</h1>
            <h3 class="subtitle">GMSE: an R package for generalised management strategy evaluation (Supporting Information 4)</h3>
                        <h4 class="author"><div class="line-block">A. Bradley Duthie¹³, Jeremy J. Cusack¹, Isabel L. Jones¹, Jeroen Minderman¹,<br>
Erlend B. Nilsen², Rocío A. Pozo¹, O. Sarobidy Rakotonarivo¹,<br>
Bram Van Moorter², and Nils Bunnefeld¹</div></h4>
            
            <h4 class="date">[1] Biological and Environmental Sciences, University of Stirling, Stirling, UK [2] Norwegian Institute for Nature Research, Trondheim, Norway [3] <a href="mailto:alexander.duthie@stir.ac.uk" class="email">alexander.duthie@stir.ac.uk</a>
</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/confoobio/gmse/blob/master/vignettes/SI4.Rmd"><code>vignettes/SI4.Rmd</code></a></small>
      <div class="hidden name"><code>SI4.Rmd</code></div>

    </div>

    
    
<div id="fine-tuning-simulation-conditions-using-gmse_apply" class="section level1">
<h1 class="hasAnchor">
<a href="#fine-tuning-simulation-conditions-using-gmse_apply" class="anchor"></a>Fine-tuning simulation conditions using <code>gmse_apply</code>
</h1>
<p>Here we demonstrate how simulations in GMSE can be more fine-tuned to specific empirical situations through the use of <code>gmse_apply</code>. To do this, we use the same scenario described in <a href="SI3.html">Example case study in GMSE</a>; we first recreate the basic scenario run in <code>gmse</code> using <code>gmse_apply</code>, and then build in additional modelling details including (1) <a href="#land">custom placement of user land</a>, (2) <a href="#budgets">parameterisation of individual user budgets</a>, and (3) <a href="#movement">density-dependent movement of resources</a>. We emphasise that these simulations are provided only to demonstrate the use of GMSE, and specifically to show the flexibility of the <code>gmse_apply</code> function, not to accurately recreate the dynamics of a specific system or make management recommendations.</p>
<p>We reconsider the case of a protected waterfowl population that exploits agricultural land <span class="citation">(e.g., Fox and Madsen <a href="#ref-Fox2017a">2017</a>; Mason et al. <a href="#ref-Mason2017">2017</a>; Tulloch, Nicol, and Bunnefeld <a href="#ref-Tulloch2017">2017</a>; Cusack et al. <a href="#ref-Cusack2018">2018</a>)</span>. The manager attempts to keep the watefowl at a target abundance, while users (farmers) attempt to maximise agricultural yield on the land that they own. We again parameterise our model using demographic information from the Taiga Bean Goose (<em>Anser fabalis fabalis</em>), as reported by <span class="citation">Johnson et al. (<a href="#ref-Johnson2018">2018</a>)</span> and <span class="citation">AEWA (<a href="#ref-AEWA2016">2016</a>)</span>. Relevant parameter values are listed in the table below.</p>
<table class="table">
<caption>GMSE simulation parameter values inspired by <span class="citation">Johnson et al. (<a href="#ref-Johnson2018">2018</a>)</span> and <span class="citation">AEWA (<a href="#ref-AEWA2016">2016</a>)</span>
</caption>
<thead><tr class="header">
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>remove_pr</code></td>
<td>0.122</td>
<td>Goose density-independent mortality probability</td>
</tr>
<tr class="even">
<td><code>lambda</code></td>
<td>0.275</td>
<td>Expected offspring production per time step</td>
</tr>
<tr class="odd">
<td><code>res_death_K</code></td>
<td>93870</td>
<td>Goose carrying capacity (on adult mortality)</td>
</tr>
<tr class="even">
<td><code>RESOURCE_ini</code></td>
<td>35000</td>
<td>Initial goose abundance</td>
</tr>
<tr class="odd">
<td><code>manage_target</code></td>
<td>70000</td>
<td>Manager’s target goose abundance</td>
</tr>
<tr class="even">
<td><code>res_death_type</code></td>
<td>3</td>
<td>Mortality (density and density-independent sources)</td>
</tr>
</tbody>
</table>
<p>Additionally, we continue to use the following values for consistency, except in the case of <code>stakeholders</code>, where we reduce the number of farmers to <code>stakeholders = 8</code>. This is done to for two reasons. First, it speeds up simulations for the purpose of demonstration; second, it makes the presentation of our custom landscape ownership easier to visualise (see below).</p>
<table class="table">
<caption>Non-default GMSE parameter values chosen by authors</caption>
<thead><tr class="header">
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>manager_budget</code></td>
<td>10000</td>
<td>Manager’s budget for setting policy options</td>
</tr>
<tr class="even">
<td><code>user_budget</code></td>
<td>10000</td>
<td>Users’ budgets for actions</td>
</tr>
<tr class="odd">
<td><code>public_land</code></td>
<td>0.4</td>
<td>Proportion of the landscape that is public</td>
</tr>
<tr class="even">
<td><code>stakeholders</code></td>
<td>8</td>
<td>Number of stakeholders</td>
</tr>
<tr class="odd">
<td><code>land_ownership</code></td>
<td>TRUE</td>
<td>Users own landscape cells</td>
</tr>
<tr class="even">
<td><code>res_consume</code></td>
<td>0.02</td>
<td>Landscape cell output consumed by a resource</td>
</tr>
<tr class="odd">
<td><code>observe_type</code></td>
<td>3</td>
<td>Observation model type (survey)</td>
</tr>
<tr class="even">
<td><code>agent_view</code></td>
<td>1</td>
<td>Cells managers can see when conducting a survey</td>
</tr>
</tbody>
</table>
<p>All other values are set to GMSE defaults, except where specifically noted otherwise.</p>
</div>
<div id="re-creating-gmse-simulations-using-gmse_apply" class="section level1">
<h1 class="hasAnchor">
<a href="#re-creating-gmse-simulations-using-gmse_apply" class="anchor"></a>Re-creating <code>gmse</code> simulations using <code>gmse_apply</code>
</h1>
<p>We now recreate the simulations in <a href="SI3.html">Example case study in GMSE</a>, which were run using the <code>gmse</code> function, in <code>gmse_apply</code>. Doing so requires us to first initialise simulations using one call of <code>gmse_apply</code>, then loop through multiple time steps that again call <code>gmse_apply</code>; results of interest are recorded in a data frame (<code>sim_sum_1</code>). Following the protocol introduced in <a href="SI2.html">Use of the gmse_apply function</a>, we can call the initialising simulation <code>sim_old</code>, and use the code below to read in the relevant parameter values.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">sim_old</span>  <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span>(<span class="kw">get_res</span> <span class="kw">=</span> <span class="st">"Full"</span>, <span class="kw">remove_pr</span> <span class="kw">=</span> <span class="fl">0.122</span>, <span class="kw">lambda</span> <span class="kw">=</span> <span class="fl">0.275</span>,
                       <span class="kw">res_death_K</span> <span class="kw">=</span> <span class="fl">93870</span>, <span class="kw">RESOURCE_ini</span> <span class="kw">=</span> <span class="fl">35000</span>,
                       <span class="kw">manage_target</span> <span class="kw">=</span> <span class="fl">70000</span>, <span class="kw">res_death_type</span> <span class="kw">=</span> <span class="fl">3</span>,
                       <span class="kw">manager_budget</span> <span class="kw">=</span> <span class="fl">10000</span>, <span class="kw">user_budget</span> <span class="kw">=</span> <span class="fl">100000</span>,
                       <span class="kw">public_land</span> <span class="kw">=</span> <span class="fl">0.4</span>, <span class="kw">stakeholders</span> <span class="kw">=</span> <span class="fl">8</span>, <span class="kw">res_consume</span> <span class="kw">=</span> <span class="fl">0.02</span>,
                       <span class="kw">res_birth_K</span> <span class="kw">=</span> <span class="fl">200000</span>, <span class="kw">land_ownership</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                       <span class="kw">observe_type</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">agent_view</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">converge_crit</span> <span class="kw">=</span> <span class="fl">0.01</span>,
                       <span class="kw">ga_mingen</span> <span class="kw">=</span> <span class="fl">200</span>);</pre></body></html></div>
<p>Note that the argument <code>get_res = "Full"</code> causes <code>sim_old</code> to retain all of the relevant data structures for simulating a new time step and recording simulation results. This includes the key simulation output, which is located in <code>sim_old$basic_output</code>, which is printed below.</p>
<pre><code>## $resource_results
## [1] 34550
## 
## $observation_results
## [1] 34550
## 
## $manager_results
##          resource_type scaring culling castration feeding help_offspring
## policy_1             1      NA     513         NA      NA             NA
## 
## $user_results
##         resource_type scaring culling castration feeding help_offspring
## Manager             1      NA       0         NA      NA             NA
## user_1              1      NA     194         NA      NA             NA
## user_2              1      NA     194         NA      NA             NA
## user_3              1      NA     194         NA      NA             NA
## user_4              1      NA     194         NA      NA             NA
## user_5              1      NA     194         NA      NA             NA
## user_6              1      NA     194         NA      NA             NA
## user_7              1      NA     194         NA      NA             NA
## user_8              1      NA     194         NA      NA             NA
##         tend_crops kill_crops
## Manager         NA         NA
## user_1          NA         NA
## user_2          NA         NA
## user_3          NA         NA
## user_4          NA         NA
## user_5          NA         NA
## user_6          NA         NA
## user_7          NA         NA
## user_8          NA         NA</code></pre>
<p>We can then loop over 30 time steps to recreate the simulations from <a href="SI3.html">Example case study in GMSE</a>. In these simulations, we are specifically interested in the resource and observation outputs, as well as the manager policy and user actions for culling, which we record below in the data frame <code>sim_sum_1</code>. The inclusion of the argument <code>old_list</code> tells <code>gmse_apply</code> to use parameters and values from the list <code>sim_old</code> in the new time step.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">sim_sum_1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fl">NA</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">30</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">5</span>);
<span class="kw">for</span>(<span class="no">time_step</span> <span class="kw">in</span> <span class="fl">1</span>:<span class="fl">30</span>){
    <span class="no">sim_new</span>                 <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span>(<span class="kw">get_res</span> <span class="kw">=</span> <span class="st">"Full"</span>, <span class="kw">old_list</span> <span class="kw">=</span> <span class="no">sim_old</span>);
    <span class="no">sim_sum_1</span>[<span class="no">time_step</span>, <span class="fl">1</span>] <span class="kw">&lt;-</span> <span class="no">time_step</span>;
    <span class="no">sim_sum_1</span>[<span class="no">time_step</span>, <span class="fl">2</span>] <span class="kw">&lt;-</span> <span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">resource_results</span>[<span class="fl">1</span>];
    <span class="no">sim_sum_1</span>[<span class="no">time_step</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">observation_results</span>[<span class="fl">1</span>];
    <span class="no">sim_sum_1</span>[<span class="no">time_step</span>, <span class="fl">4</span>] <span class="kw">&lt;-</span> <span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">manager_results</span>[<span class="fl">3</span>];
    <span class="no">sim_sum_1</span>[<span class="no">time_step</span>, <span class="fl">5</span>] <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">user_results</span>[,<span class="fl">3</span>]);
    <span class="no">sim_old</span>                 <span class="kw">&lt;-</span> <span class="no">sim_new</span>;
}
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">sim_sum_1</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Time"</span>, <span class="st">"Pop_size"</span>, <span class="st">"Pop_est"</span>, <span class="st">"Cull_cost"</span>,
                         <span class="st">"Cull_count"</span>);
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">sim_sum_1</span>);</pre></body></html></div>
<pre><code>##       Time Pop_size Pop_est Cull_cost Cull_count
##  [1,]    1    32672   32672      1010        792
##  [2,]    2    32515   32515      1010        792
##  [3,]    3    32690   32690      1010        792
##  [4,]    4    33483   33483      1010        792
##  [5,]    5    37569   37569      1010        792
##  [6,]    6    38735   38735      1010        792
##  [7,]    7    40252   40252      1010        792
##  [8,]    8    42043   42043      1010        792
##  [9,]    9    44114   44114      1010        792
## [10,]   10    46119   46119      1010        791
## [11,]   11    48775   48775      1010        792
## [12,]   12    51046   51046      1010        792
## [13,]   13    53616   53616      1010        791
## [14,]   14    56331   56331      1010        792
## [15,]   15    59367   59367      1010        792
## [16,]   16    62628   62628      1010        790
## [17,]   17    66156   66156      1010        791
## [18,]   18    69744   69744      1009        792
## [19,]   19    73620   73620       254       3144
## [20,]   20    75219   75219       176       4544
## [21,]   21    75511   75511       167       4784
## [22,]   22    75665   75665       162       4936
## [23,]   23    75228   75228       176       4544
## [24,]   24    75253   75253       175       4568
## [25,]   25    75669   75669       161       4968
## [26,]   26    75679   75679       162       4936
## [27,]   27    75575   75575       165       4848
## [28,]   28    75171   75171       178       4488
## [29,]   29    75643   75643       162       4936
## [30,]   30    75788   75788       159       5024</code></pre>
<p>The above output from <code>sim_sum_1</code> shows the data frame that holds the information we were interested in pulling out of our simulation results. All of this information was available under the list element <code>sim_new$basic_output</code>, but other list elements of <code>sim_new</code> might also be useful to record. It is important to remember that this example of <code>gmse_apply</code> is using the default resource, observation, manager, and user sub-models. Custom sub-models could produce different outputs in <code>sim_new</code> (see <a href="SI2.html">Use of the gmse_apply function</a> for examples). For default sub-models, there are some list elements that might be especially useful. These elements can potentially be edited <em>within the above loop</em> to dynamically adjust simulations. For more explanation of built-in GMSE data arrays, see <a href="SI7.html">Default GMSE data structures</a>.</p>
<ul>
<li>
<a href="SI7.html#resources"><code>sim_new$resource_array</code></a>: A table holding all information on resources. Rows correspond to discrete resources, and columns correspond to resource properties: (1) ID, (2-4) types (not currently in use), (5) x-location, (6) y-location, (7) movement parameter, (8) time, (9) density independent mortality parameter (<code>remove_pr</code>), (10) reproduction parameter (<code>lambda</code>), (11) offspring number, (12) age, (13-14) observation columns, (15) consumption rate (<code>res_consume</code>), (16-20) recorded experiences of user actions (e.g., was the resource culled or scared?), (21) how much yield has the resource consumed, and (22) how many times the resource can consume yield in one time step.</li>
<li>
<a href="SI7.html#agents"><code>sim_new$AGENTS</code></a>: A table holding basic information on agents (manager and users). Rows correspond to a unique agent, and columns correspond to agent properties: (1) ID, (2) type (0 for the manager, 1 for users), (3-4) additional type options not currently in use, (5-6), x and y locations (usually ignored), (7) movement parameter (usually ignored), (8) time, (9) agent’s viewing ability in cells (<code>agent_view</code>), (10) error parameter, (11-12) values for holding marks and tallies of resources, (13-15) values for holding observations, (16) yield from landscape cells, (17) baseline budget (<code>manager_budget</code> and <code>user_budget</code>), (18-24) agent’s perception of the efficacy of scaring, culling, castrating, feeding, helping, tending crops, and killing crops, (25-26) increments to budget, (27) unused.</li>
<li>
<code>sim_new$observation_vector</code>: Estimate of total resource number from the observation model (<a href="SI7.html#observation"><code>observation_array</code></a> also holds this information in a different way depending on <code>observe_type</code>)</li>
<li>
<a href="SI7.html#land"><code>sim_new$LAND</code></a>: The landscape on which interactions occur, which is stored as a 3D array with <code>land_dim_1</code> rows, <code>land_dim_2</code> columns, and 3 layers. Layer 1 (<code>sim_new$LAND[,,1]</code>) is not currently used in default sub-models, but could be used to store values that affect resources and agents. Layer 2 (<code>sim_new$LAND[,,2]</code>) stores crop yield from a cell, and layer 3 (<code>sim_new$LAND[,,3]</code>) stores the owner of the cell (value corresponds to the agent’s ID).</li>
<li>
<code>sim_new$manage_vector</code>: The cost of each action as set by the manager. For even more fine-tuning, individual costs for the actions of each agent can be set for each user in <a href="SI7.html#cost"><code>sim_new$manager_array</code></a>.</li>
<li>
<code>sim_new$user_vector</code>: The total number of actions performed by each user. A more detailed breakdown of actions by individual users is held in <a href="SI7.html#action"><code>sim_new$user_array</code></a>.</li>
</ul>
<p>Next, we show how to adjust the landscape to manually set land ownership in <code>gmse_apply</code>.</p>
</div>
<div id="custom-placement-of-user-land" class="section level1">
<h1 class="hasAnchor">
<a href="#custom-placement-of-user-land" class="anchor"></a>1. <a name="land">Custom placement of user land</a>
</h1>
<p>By default, all farmers in GMSE are allocated roughly the same number of landscape cells, which are placed on the landscape using a shortest-splitline algorithm that makes similar size rectangles. In the <code>LAND</code> array, ownership is designated by the agent’s ID. Public land is produced by placing landscape cells that are technically owned by the manager, and therefore have landscape cell values of 1. The image below shows this landscape for the eight farmers from <code>sim_old</code>.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/graphics/image.html">image</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">sim_old</span>$<span class="no">LAND</span>[,,<span class="fl">3</span>], <span class="kw">col</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">topo.colors</a></span>(<span class="fl">9</span>), <span class="kw">xaxt</span> <span class="kw">=</span> <span class="st">"n"</span>, <span class="kw">yaxt</span> <span class="kw">=</span> <span class="st">"n"</span>);</pre></body></html></div>
<div class="figure">
<img src="SI4_files/figure-html/unnamed-chunk-5-1.png" alt="Default position of land ownership by farmers." width="576"><p class="caption">
Default position of land ownership by farmers.
</p>
</div>
<p>We can change the ownership of cells by manipulating <code>sim_old$LAND[,,3]</code>. First we initialise a new <code>sim_old</code> below.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">sim_old</span>  <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span>(<span class="kw">get_res</span> <span class="kw">=</span> <span class="st">"Full"</span>, <span class="kw">remove_pr</span> <span class="kw">=</span> <span class="fl">0.122</span>, <span class="kw">lambda</span> <span class="kw">=</span> <span class="fl">0.275</span>,
                       <span class="kw">res_death_K</span> <span class="kw">=</span> <span class="fl">93870</span>, <span class="kw">RESOURCE_ini</span> <span class="kw">=</span> <span class="fl">35000</span>,
                       <span class="kw">manage_target</span> <span class="kw">=</span> <span class="fl">70000</span>, <span class="kw">res_death_type</span> <span class="kw">=</span> <span class="fl">3</span>,
                       <span class="kw">manager_budget</span> <span class="kw">=</span> <span class="fl">10000</span>, <span class="kw">user_budget</span> <span class="kw">=</span> <span class="fl">10000</span>,
                       <span class="kw">public_land</span> <span class="kw">=</span> <span class="fl">0.4</span>, <span class="kw">stakeholders</span> <span class="kw">=</span> <span class="fl">8</span>, <span class="kw">res_consume</span> <span class="kw">=</span> <span class="fl">0.02</span>,
                       <span class="kw">res_birth_K</span> <span class="kw">=</span> <span class="fl">200000</span>, <span class="kw">land_ownership</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                       <span class="kw">observe_type</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">agent_view</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">converge_crit</span> <span class="kw">=</span> <span class="fl">0.01</span>,
                       <span class="kw">ga_mingen</span> <span class="kw">=</span> <span class="fl">200</span>);</pre></body></html></div>
<p>Because we have not specified landscape dimensions in the above, the landscape reverts to the default size of 100 by 100 cells. We can then manually assign landscape cells to the eight farmers, whose IDs range from 2-9 (ID value 1 is the manager). Below we do this to make eight different sized farms.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,   <span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">2</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">21</span>:<span class="fl">40</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">3</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">41</span>:<span class="fl">60</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">4</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">61</span>:<span class="fl">80</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">5</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">81</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">6</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">21</span>:<span class="fl">40</span>,  <span class="fl">1</span>:<span class="fl">50</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">7</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">21</span>:<span class="fl">40</span>, <span class="fl">51</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">8</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">41</span>:<span class="fl">60</span>,  <span class="fl">1</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">9</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">61</span>:<span class="fl">100</span>, <span class="fl">1</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">1</span>; <span class="co"># Public land</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/image.html">image</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">sim_old</span>$<span class="no">LAND</span>[,,<span class="fl">3</span>], <span class="kw">col</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">topo.colors</a></span>(<span class="fl">9</span>), <span class="kw">xaxt</span> <span class="kw">=</span> <span class="st">"n"</span>, <span class="kw">yaxt</span> <span class="kw">=</span> <span class="st">"n"</span>);</pre></body></html></div>
<div class="figure">
<img src="SI4_files/figure-html/unnamed-chunk-7-1.png" alt="Land ownership by farmers as customised in gmse_apply." width="576"><p class="caption">
Land ownership by farmers as customised in gmse_apply.
</p>
</div>
<p>The above image shows the modified landscape stored in <code>sim_old</code>, which can now be incorporated into simulations using <code>gmse_apply</code>. We can think of all the plots on the left side of the landscape as farms of various sizes, while the blue area of the landscape on the right is public land.</p>
</div>
<div id="parameterisation-of-individual-user-budgets" class="section level1">
<h1 class="hasAnchor">
<a href="#parameterisation-of-individual-user-budgets" class="anchor"></a>2. <a name="budgets">Parameterisation of individual user budgets</a>
</h1>
<p>Perhaps we want to assume that farmers have different baseline budgets, which are correlated in some way to the number of landscape cells that they own. Custom user baseline budgets can be set by manipulating <code>sim_old$AGENTS</code>, column 17 of which holds the budget for each user. Agent IDs (as stored on the landscape above) correspond to rows of <code>sim_old$AGENTS</code>, so individual baseline budgets can be directly input as desired. We can do this manually (e.g., <code>sim_old$AGENTS[2, 17] &lt;- 4000</code>), or, alternatively, if farmer budget positively correlates to landscape owned, we can use a loop to input values as below.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="kw">for</span>(<span class="no">ID</span> <span class="kw">in</span> <span class="fl">2</span>:<span class="fl">9</span>){
    <span class="no">cells_owned</span>            <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">sim_old</span>$<span class="no">LAND</span>[,,<span class="fl">3</span>] <span class="kw">==</span> <span class="no">ID</span>);
    <span class="no">sim_old</span>$<span class="no">AGENTS</span>[<span class="no">ID</span>, <span class="fl">17</span>] <span class="kw">&lt;-</span> <span class="fl">10</span> * <span class="no">cells_owned</span>;
}</pre></body></html></div>
<p>The number of cells owned by the manager (1) and each farmer (2-8) is therefore listed in the table below.</p>
<table class="table">
<colgroup>
<col width="16%">
<col width="10%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="10%">
<col width="10%">
<col width="10%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><strong>ID</strong></td>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">4</td>
<td align="center">5</td>
<td align="center">6</td>
<td align="center">7</td>
<td align="center">8</td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center"><strong>Budget</strong></td>
<td align="center">10000</td>
<td align="center">4000</td>
<td align="center">4000</td>
<td align="center">4000</td>
<td align="center">4000</td>
<td align="center">4000</td>
<td align="center">10000</td>
<td align="center">10000</td>
<td align="center">20000</td>
</tr>
</tbody>
</table>
<p>As with <code>sim_old$LAND</code> values, changes to <code>sim_old$AGENTS</code> will be retained in simulations looped through <code>gmse_apply</code>.</p>
</div>
<div id="density-dependent-movement-of-resources" class="section level1">
<h1 class="hasAnchor">
<a href="#density-dependent-movement-of-resources" class="anchor"></a>3. <a name="movement">Density-dependent movement of resources</a>
</h1>
<p>Lastly, we consider a more nuanced change to simulations, in which the rules for movement of resources are modified to account for density-dependence. Assume that geese tend to avoid aggregating, such that if a goose is located on the same cell as too many other geese, then it will move at the start of a time step. Programming this movement rule can be accomplished by creating a new function to apply to the resource data array <code>sim_old$resource_array</code>. Below, a custom function is defined that causes a goose to move up to 5 cells in any direction if it finds itself on a cell with more than 10 other geese. As with default GMSE simulations, movement is based on a torus landscape (where no landscape edge exists, so that if resources move off of one side of the landscape they appear on the opposite side). We will use this custom function to modify <code>sim_old$resource_array</code> prior to running <code>gmse_apply</code>, thereby modelling a custom-built process affecting resource distribution that is integrated into GMSE.</p>

<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">avoid_aggregation</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">sim_resource_array</span>, <span class="no">land_dim_1</span> <span class="kw">=</span> <span class="fl">100</span>,
                              <span class="no">land_dim_2</span> <span class="kw">=</span> <span class="fl">100</span>){
    <span class="no">goose_number</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(<span class="no">sim_resource_array</span>)[<span class="fl">1</span>]  <span class="co"># How many geese are there?</span>
    <span class="kw">for</span>(<span class="no">goose</span> <span class="kw">in</span> <span class="fl">1</span>:<span class="no">goose_number</span>){               <span class="co"># Loop through all rows of geese</span>
        <span class="no">x_loc</span>  <span class="kw">&lt;-</span> <span class="no">sim_resource_array</span>[<span class="no">goose</span>, <span class="fl">5</span>];
        <span class="no">y_loc</span>  <span class="kw">&lt;-</span> <span class="no">sim_resource_array</span>[<span class="no">goose</span>, <span class="fl">6</span>];
        <span class="no">shared</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>( <span class="no">sim_resource_array</span>[,<span class="fl">5</span>] <span class="kw">==</span> <span class="no">x_loc</span> <span class="kw">&amp;</span>
                       <span class="no">sim_resource_array</span>[,<span class="fl">6</span>] <span class="kw">==</span> <span class="no">y_loc</span>);
        <span class="kw">if</span>(<span class="no">shared</span> <span class="kw">&gt;</span> <span class="fl">10</span>){
            <span class="no">new_x</span> <span class="kw">&lt;-</span> <span class="no">x_loc</span> + <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw">x</span> <span class="kw">=</span> -<span class="fl">5</span>:<span class="fl">5</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>);
            <span class="no">new_y</span> <span class="kw">&lt;-</span> <span class="no">y_loc</span> + <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw">x</span> <span class="kw">=</span> -<span class="fl">5</span>:<span class="fl">5</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>);
            <span class="kw">if</span>(<span class="no">new_x</span> <span class="kw">&lt;</span> <span class="fl">0</span>){ <span class="co"># The 'if' statements below apply the torus</span>
                <span class="no">new_x</span> <span class="kw">&lt;-</span> <span class="no">land_dim_1</span> + <span class="no">new_x</span>;
            }
            <span class="kw">if</span>(<span class="no">new_x</span> <span class="kw">&gt;=</span> <span class="no">land_dim_1</span>){
                <span class="no">new_x</span> <span class="kw">&lt;-</span> <span class="no">new_x</span> - <span class="no">land_dim_1</span>;
            }
            <span class="kw">if</span>(<span class="no">new_y</span> <span class="kw">&lt;</span> <span class="fl">0</span>){
                <span class="no">new_y</span> <span class="kw">&lt;-</span> <span class="no">land_dim_2</span> + <span class="no">new_x</span>;
            }
            <span class="kw">if</span>(<span class="no">new_y</span> <span class="kw">&gt;=</span> <span class="no">land_dim_2</span>){
                <span class="no">new_y</span> <span class="kw">&lt;-</span> <span class="no">new_y</span> - <span class="no">land_dim_2</span>;
            }
            <span class="no">sim_resource_array</span>[<span class="no">goose</span>, <span class="fl">5</span>] <span class="kw">&lt;-</span> <span class="no">new_x</span>;
            <span class="no">sim_resource_array</span>[<span class="no">goose</span>, <span class="fl">6</span>] <span class="kw">&lt;-</span> <span class="no">new_y</span>;
        }
    }
    <span class="fu"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="no">sim_resource_array</span>);
}</pre></body></html></div>
<p>With the above function written, we can apply the new movement rule along with our <a href="#land">custom farm placement</a> and <a href="#budgets">custom farmer budgets</a> to the simulation of goose population dynamics.</p>
</div>
<div id="simulation-with-custom-farms-budgets-and-goose-movement" class="section level1">
<h1 class="hasAnchor">
<a href="#simulation-with-custom-farms-budgets-and-goose-movement" class="anchor"></a>Simulation with custom farms, budgets, and goose movement</h1>
<p>Below shows an example of <code>gmse_apply</code> with custom landscapes, farmer budgets, and density-dependent goose movement rules.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="co"># First initialise a simulation</span>
<span class="no">sim_old</span>  <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span>(<span class="kw">get_res</span> <span class="kw">=</span> <span class="st">"Full"</span>, <span class="kw">remove_pr</span> <span class="kw">=</span> <span class="fl">0.122</span>, <span class="kw">lambda</span> <span class="kw">=</span> <span class="fl">0.275</span>,
                       <span class="kw">res_death_K</span> <span class="kw">=</span> <span class="fl">93870</span>, <span class="kw">RESOURCE_ini</span> <span class="kw">=</span> <span class="fl">35000</span>,
                       <span class="kw">manage_target</span> <span class="kw">=</span> <span class="fl">70000</span>, <span class="kw">res_death_type</span> <span class="kw">=</span> <span class="fl">3</span>,
                       <span class="kw">manager_budget</span> <span class="kw">=</span> <span class="fl">10000</span>, <span class="kw">user_budget</span> <span class="kw">=</span> <span class="fl">10000</span>,
                       <span class="kw">public_land</span> <span class="kw">=</span> <span class="fl">0.4</span>, <span class="kw">stakeholders</span> <span class="kw">=</span> <span class="fl">8</span>, <span class="kw">res_consume</span> <span class="kw">=</span> <span class="fl">0.02</span>,
                       <span class="kw">res_birth_K</span> <span class="kw">=</span> <span class="fl">200000</span>, <span class="kw">land_ownership</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                       <span class="kw">observe_type</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">agent_view</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">converge_crit</span> <span class="kw">=</span> <span class="fl">0.01</span>,
                       <span class="kw">ga_mingen</span> <span class="kw">=</span> <span class="fl">200</span>, <span class="kw">res_move_type</span> <span class="kw">=</span> <span class="fl">0</span>);
<span class="co"># By setting `res_move_type = 0`, no resource movement will occur in gmse_apply</span>
<span class="co"># Adjust the landscape ownership below</span>
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,   <span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">2</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">21</span>:<span class="fl">40</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">3</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">41</span>:<span class="fl">60</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">4</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">61</span>:<span class="fl">80</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">5</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">1</span>:<span class="fl">20</span>,  <span class="fl">81</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">6</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">21</span>:<span class="fl">40</span>,  <span class="fl">1</span>:<span class="fl">50</span>,  <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">7</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">21</span>:<span class="fl">40</span>, <span class="fl">51</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">8</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">41</span>:<span class="fl">60</span>,  <span class="fl">1</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">9</span>;
<span class="no">sim_old</span>$<span class="no">LAND</span>[<span class="fl">61</span>:<span class="fl">100</span>, <span class="fl">1</span>:<span class="fl">100</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="fl">1</span>;
<span class="co"># Change the budgets of each farmer based on the land they own</span>
<span class="kw">for</span>(<span class="no">ID</span> <span class="kw">in</span> <span class="fl">2</span>:<span class="fl">9</span>){
    <span class="no">cells_owned</span>            <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">sim_old</span>$<span class="no">LAND</span>[,,<span class="fl">3</span>] <span class="kw">==</span> <span class="no">ID</span>);
    <span class="no">sim_old</span>$<span class="no">AGENTS</span>[<span class="no">ID</span>, <span class="fl">17</span>] <span class="kw">&lt;-</span> <span class="fl">10</span> * <span class="no">cells_owned</span>;
}
<span class="co"># Begin simulating time steps for the system</span>
<span class="no">sim_sum_2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="fl">NA</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">30</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">5</span>);
<span class="kw">for</span>(<span class="no">time_step</span> <span class="kw">in</span> <span class="fl">1</span>:<span class="fl">30</span>){
    <span class="co"># Apply the new movement rules at the beginning of the loop</span>
    <span class="no">sim_old</span>$<span class="no">resource_array</span>  <span class="kw">&lt;-</span> <span class="fu">avoid_aggregation</span>(<span class="kw">sim_resource_array</span> <span class="kw">=</span>
                                                     <span class="no">sim_old</span>$<span class="no">resource_array</span>);
    <span class="co"># Next, move on to simulate (old_list remembers that res_move_type = 0)</span>
    <span class="no">sim_new</span>                 <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gmse_apply.html">gmse_apply</a></span>(<span class="kw">get_res</span> <span class="kw">=</span> <span class="st">"Full"</span>, <span class="kw">old_list</span> <span class="kw">=</span> <span class="no">sim_old</span>);
    <span class="no">sim_sum_2</span>[<span class="no">time_step</span>, <span class="fl">1</span>] <span class="kw">&lt;-</span> <span class="no">time_step</span>;
    <span class="no">sim_sum_2</span>[<span class="no">time_step</span>, <span class="fl">2</span>] <span class="kw">&lt;-</span> <span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">resource_results</span>[<span class="fl">1</span>];
    <span class="no">sim_sum_2</span>[<span class="no">time_step</span>, <span class="fl">3</span>] <span class="kw">&lt;-</span> <span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">observation_results</span>[<span class="fl">1</span>];
    <span class="no">sim_sum_2</span>[<span class="no">time_step</span>, <span class="fl">4</span>] <span class="kw">&lt;-</span> <span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">manager_results</span>[<span class="fl">3</span>];
    <span class="no">sim_sum_2</span>[<span class="no">time_step</span>, <span class="fl">5</span>] <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">sim_new</span>$<span class="no">basic_output</span>$<span class="no">user_results</span>[,<span class="fl">3</span>]);
    <span class="no">sim_old</span>                 <span class="kw">&lt;-</span> <span class="no">sim_new</span>;
}
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">sim_sum_2</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Time"</span>, <span class="st">"Pop_size"</span>, <span class="st">"Pop_est"</span>, <span class="st">"Cull_cost"</span>,
                         <span class="st">"Cull_count"</span>);
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">sim_sum_2</span>);</pre></body></html></div>
<pre><code>##       Time Pop_size Pop_est Cull_cost Cull_count
##  [1,]    1    33693   33693      1010         52
##  [2,]    2    34030   34030      1000         60
##  [3,]    3    34924   34924      1002         52
##  [4,]    4    36402   36402      1006         52
##  [5,]    5    41895   41895      1010         52
##  [6,]    6    44055   44055       996         60
##  [7,]    7    46499   46499      1004         52
##  [8,]    8    49389   49389      1010         52
##  [9,]    9    52543   52543      1008         52
## [10,]   10    56114   56114      1010         52
## [11,]   11    60144   60144      1002         52
## [12,]   12    64121   64121      1010         52
## [13,]   13    68465   68465      1006         52
## [14,]   14    73227   73227        19       3154
## [15,]   15    75011   75011        14       4218
## [16,]   16    75877   75877        12       4670
## [17,]   17    76217   76217        10       5409
## [18,]   18    75932   75932        10       5430
## [19,]   19    75531   75531        12       4635
## [20,]   20    75923   75923        11       5034
## [21,]   21    75718   75718        11       5007
## [22,]   22    75150   75150        13       4382
## [23,]   23    75234   75234        13       4396
## [24,]   24    75491   75491        13       4400
## [25,]   25    76022   76022        11       5062
## [26,]   26    75580   75580        11       4985
## [27,]   27    75168   75168        12       4695
## [28,]   28    75089   75089        13       4367
## [29,]   29    75389   75389        13       4342
## [30,]   30    75811   75811        11       5061</code></pre>
</div>
<div id="conclusions" class="section level1">
<h1 class="hasAnchor">
<a href="#conclusions" class="anchor"></a>Conclusions</h1>
<p>In this example, we showed how the built-in resource, observation, manager, and user sub-models can be customised by manipulating the data within the data structures that they use. The goal was to show how software users can work with these existing sub-models and data structures to customise GMSE simulations. Readers seeking even greater flexibility (e.g., replacing an entire built-in sub-model with a custom sub-model) should refer to <a href="SI2.html">Use of the gmse_apply function</a> that introduces <code>gmse_apply</code> more generally. Future versions of GMSE are likely to expand on the built-in options available for simulation; requests for such expansions, or contributions, can be submitted to <a href="https://github.com/bradduthie/gmse/issues">GitHub</a>.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-AEWA2016">
<p>AEWA. 2016. “International single species action plan for the conservation of the Taiga Bean Goose (Anser fabalis fabalis).” <a href="http://www.unep-aewa.org/sites/default/files/document/aewa%7B%5C_%7Degmp%7B%5C_%7Dinf%7B%5C_%7D2%7B%5C_%7Dissap%7B%5C_%7Dtbg.pdf">http://www.unep-aewa.org/sites/default/files/document/aewa{\_}egmp{\_}inf{\_}2{\_}issap{\_}tbg.pdf</a>.</p>
</div>
<div id="ref-Cusack2018">
<p>Cusack, Jeremy J, A Bradley Duthie, Sarobidy Rakotonarivo, Rocío A Pozo, Tom H E Mason, Johan Månsson, Lovisa Nilsson, et al. 2018. “Time series analysis reveals synchrony and asynchrony between conflict management effort and increasing large grazing bird populations in northern Europe.” <em>Conservation Letters</em>, e12450. <a href="https://doi.org/10.1111/conl.12450">https://doi.org/10.1111/conl.12450</a>.</p>
</div>
<div id="ref-Fox2017a">
<p>Fox, Anthony D, and Jesper Madsen. 2017. “Threatened species to super-abundance: The unexpected international implications of successful goose conservation.” <em>Ambio</em> 46 (s2). Springer Netherlands: 179–87. <a href="https://doi.org/10.1007/s13280-016-0878-2">https://doi.org/10.1007/s13280-016-0878-2</a>.</p>
</div>
<div id="ref-Johnson2018">
<p>Johnson, Fred A, Mikko Alhainen, Anthony D Fox, Jesper Madsen, and Matthieu Guillemain. 2018. “Making do with less: Must sparse data preclude informed harvest strategies for European waterbirds.” <em>Ecological Applications</em> 28 (2): 427–41. <a href="https://doi.org/10.1002/eap.1659">https://doi.org/10.1002/eap.1659</a>.</p>
</div>
<div id="ref-Mason2017">
<p>Mason, Tom H.E, Aidan Keane, Stephen M Redpath, and Nils Bunnefeld. 2017. “The changing environment of conservation conflict: geese and farming in Scotland.” <em>Journal of Applied Ecology</em>, 1–12. <a href="https://doi.org/10.1111/1365-2664.12969">https://doi.org/10.1111/1365-2664.12969</a>.</p>
</div>
<div id="ref-Tulloch2017">
<p>Tulloch, Ayesha I T, Sam Nicol, and Nils Bunnefeld. 2017. “Quantifying the expected value of uncertain management choices for over-abundant Greylag Geese.” <em>Biological Conservation</em> 214. Elsevier: 147–55. <a href="https://doi.org/10.1016/j.biocon.2017.08.013">https://doi.org/10.1016/j.biocon.2017.08.013</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by A. Bradley Duthie, Nils Bunnefeld.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
